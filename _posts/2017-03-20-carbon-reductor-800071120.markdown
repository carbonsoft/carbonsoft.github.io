---
title: Carbon Reductor 800071120
---

- Никаких изменений в модулях фильтрации пока не было официально выпущено.
- Исправлен плагин collectd, собираемые метрики изменены

## Интеграция с маршрутизаторами

### BGP Blackhole App

Добавлен контейнер со всем необходимым для работы Remote Triggered Blackhole (интеграция с маршрутизаторами по BGP).

Всё что остаётся - настроить связку на роутере и пройтись по короткой менюшке с 4мя вопросами. Мастер настройки всплывает при установке.

### Новый events.sh

Интеграция с маршрутизаторами теперь поддерживает синхронизацию нескольких разных списков с несколькими разными маршрутизаторами.

Для этого нужно перечислить список хуков в определённом файле.

Его "API" осталось обратно совместимым, но теперь можно группировать отправляемые команды, а отправлять их с помощью функции commit().

## [netutils-linux](https://github.com/strizhechenko/netutils-linux)

Началось всё как смесь фанового проекта с желанием не потерять разовые наброски скриптов, появлявшихся во время какого-либо траблшутинга, да мало ли кому будет полезно.

Сейчас оно приведено в чистый вид, выложено в продакшн и получило наконец свою 1.0.0 версию.

От некоторых целей в этом релизе, увы, пришлось отказаться. Изначально хотелось сделать:

- Вывод железа и интересующих нас его возможностей
- Оценка этого железа и общая оценка сервера
- Автоматический тюнинг железа с целью выжать из него максимум производительности

Пока что ради скорейшего релиза решили отложить общую оценку сервера и автоматическое распределение прерываний (настройка RSS). Последнее - довольно сложная штука, поскольку даже сделав удачное решение для 90% установок, для 10% применение автоматическое настройки приведёт к снижению производительности.

Но RPS, настройка RX-буферов сетевых карт и выключение плавающей частоты CPU теперь работают из коробки при старте Carbon Reductor.

## История списков

Теперь Carbon Reductor хранит историю изменений списков в Git. Автоматический коммит происходит раз в 20 минут, так что легко узнать когда какой-то URL пропал/появился в реестре, был ли правильно обработан и был ли вообще в итоге использован на Carbon Reductor.

## Диагностика и мониторинг

- Добавлены тесты мониторинга, проверяющие настройку выгрузок, отличную от выгрузки с помощью PEM-файла (статические запрос-подпись и выгрузка со своего веб-сервера).
- Тесты зеркала теперь проверяются с помощью счётчиков модулей, а не с помощью tcpdump, чтобы не создавать лишнюю нагрузку на сервер.

## Мелочи

- Во многих местах исправлено получение списка интерфейсов по именам, где обычно работало только с интерфейсами имеющими в имени "eth".

## Что ждать в Carbon Reductor 8.00.08?

Скорее всего это будут:

- новый модуль DUALRST (который станет опциональной заменой стандартному модулю REJECT), который посылает RST-пакет в обе стороны, причём несколько раз (для дополнительной защиты от потерь в сети провайдера).
- исправления модуля SNI, снижающие число операций для определения, является ли данный пакет Client-Hello пакетом
- поддержка нескольких сочетаний двух разных моделей процессоров в одной материнской плате.
